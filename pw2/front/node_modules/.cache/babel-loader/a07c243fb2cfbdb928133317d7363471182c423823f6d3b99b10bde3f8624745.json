{"ast":null,"code":"import'bootstrap/dist/css/bootstrap.css';import styles from'./paginaWeb/css/stats.module.css';import React,{useEffect,useState}from'react';import axiosInstance from'./AxiosConf/axiosconf';import{useNavigate}from'react-router-dom';//Componentes\nimport Menu from'./components/menuComponent';import DataView from'./components/DataView';import{usePerfil}from'./components/publicacionUtils';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Stats(_ref){let{option}=_ref;const navigate=useNavigate();const perfil=usePerfil();const[publicacionesLikes,setPublicacionesLikes]=useState([]);const[interaccionesSemanales,setInteraccionesSemanales]=useState([]);const[seguidoresMensuales,setSeguidoresMensuales]=useState([]);useEffect(()=>{axiosInstance.get('/stats/publicacionesLikes').then(response=>{setPublicacionesLikes(response.data);console.log(response.data);}).catch(error=>{console.error('Error al obtener estadísticas de publicaciones/likes:',error);});axiosInstance.get('/stats/interaccionesSemanales').then(response=>{setInteraccionesSemanales(response.data);}).catch(error=>{console.error('Error al obtener estadísticas de interacciones semanales:',error);});axiosInstance.get('/stats/seguidoresMensuales').then(response=>{setSeguidoresMensuales(response.data);}).catch(error=>{console.error('Error al obtener estadísticas de seguidores mensuales:',error);});},[]);const renderDataView=()=>{const labels=['Lunes','Martes','Miércoles','Jueves','Viernes','Sábado','Domingo'];if(option==='publicacionesLikes'){const likesData=labels.map(dia=>{const stat=publicacionesLikes.find(stat=>stat.dia===dia);return stat?stat.likes:0;});return/*#__PURE__*/_jsx(DataView,{data:likesData,labels:labels,title:\"Likes\"});}else if(option==='interaccionesSemanales'){const semanas=interaccionesSemanales.map(stat=>stat.semana);const comentariosData=interaccionesSemanales.map(stat=>stat.comentarios);const likesData=interaccionesSemanales.map(stat=>stat.likes);return/*#__PURE__*/_jsxs(_Fragment,{children:[console.log(comentariosData),/*#__PURE__*/_jsx(DataView,{data:comentariosData,labels:semanas,title:\"Comentarios por Semana\"}),/*#__PURE__*/_jsx(DataView,{data:likesData,labels:semanas,title:\"Likes por Semana\"})]});}else if(option==='seguidoresMensuales'){const months=seguidoresMensuales.map(stat=>stat.mes);const seguidoresData=seguidoresMensuales.map(stat=>stat.seguidores);return/*#__PURE__*/_jsx(DataView,{data:seguidoresData,labels:months,title:\"Seguidores\"});}return null;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{perfil:perfil}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttonGroup,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`btn btn-primary ${styles.buttonPrimary}`,onClick:()=>navigate('/stats/publicacionesLikes'),children:\"Publicaciones/Likes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`btn btn-secondary ${styles.buttonSecondary}`,onClick:()=>navigate('/stats/interaccionesSemanales'),children:\"Interacciones Semanales\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:`btn btn-success ${styles.buttonSuccess}`,onClick:()=>navigate('/stats/seguidoresMensuales'),children:\"Seguidores Mensuales\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.chartContainer,children:renderDataView()})]})]});}export default Stats;","map":{"version":3,"names":["styles","React","useEffect","useState","axiosInstance","useNavigate","Menu","DataView","usePerfil","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Stats","_ref","option","navigate","perfil","publicacionesLikes","setPublicacionesLikes","interaccionesSemanales","setInteraccionesSemanales","seguidoresMensuales","setSeguidoresMensuales","get","then","response","data","console","log","catch","error","renderDataView","labels","likesData","map","dia","stat","find","likes","title","semanas","semana","comentariosData","comentarios","children","months","mes","seguidoresData","seguidores","className","buttonGroup","type","buttonPrimary","onClick","buttonSecondary","buttonSuccess","chartContainer"],"sources":["D:/Clases/Programacion Web II/PW2_Project/pw2/front/src/stats.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.css';\nimport styles from './paginaWeb/css/stats.module.css';\nimport React, { useEffect, useState } from 'react';\nimport axiosInstance from './AxiosConf/axiosconf';\nimport { useNavigate } from 'react-router-dom';\n\n//Componentes\nimport Menu from './components/menuComponent';\nimport DataView from './components/DataView';\nimport {usePerfil} from './components/publicacionUtils';\n\n\nfunction Stats({ option }) {\n    const navigate = useNavigate();\n    const perfil = usePerfil(); \n    const [publicacionesLikes, setPublicacionesLikes] = useState([]);\n    const [interaccionesSemanales, setInteraccionesSemanales] = useState([]);\n    const [seguidoresMensuales, setSeguidoresMensuales] = useState([]);   \n\n    useEffect(() => {\n        axiosInstance.get('/stats/publicacionesLikes')\n            .then(response => {\n                setPublicacionesLikes(response.data);\n                console.log(response.data);\n            })\n            .catch(error => {\n                console.error('Error al obtener estadísticas de publicaciones/likes:', error);\n            });\n\n        axiosInstance.get('/stats/interaccionesSemanales')\n            .then(response => {\n                setInteraccionesSemanales(response.data);\n            })\n            .catch(error => {\n                console.error('Error al obtener estadísticas de interacciones semanales:', error);\n            });\n\n        axiosInstance.get('/stats/seguidoresMensuales')\n            .then(response => {\n                setSeguidoresMensuales(response.data);\n            })\n            .catch(error => {\n                console.error('Error al obtener estadísticas de seguidores mensuales:', error);\n            });\n    }, []);\n\n    const renderDataView = () => {\n        const labels = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];\n        if (option === 'publicacionesLikes') {\n            const likesData = labels.map(dia => {\n                const stat = publicacionesLikes.find(stat => stat.dia === dia);\n                return stat ? stat.likes : 0;\n            });\n            return <DataView data={likesData} labels={labels} title=\"Likes\" />;\n        } else if (option === 'interaccionesSemanales') {\n            const semanas = interaccionesSemanales.map(stat => stat.semana);\n            const comentariosData = interaccionesSemanales.map(stat => stat.comentarios);\n            const likesData = interaccionesSemanales.map(stat => stat.likes);\n            return (\n                <>\n                {console.log(comentariosData)}\n                    <DataView data={comentariosData} labels={semanas} title=\"Comentarios por Semana\" />\n                    <DataView data={likesData} labels={semanas} title=\"Likes por Semana\" />\n                </>\n            );\n        } else if (option === 'seguidoresMensuales') {\n            const months = seguidoresMensuales.map(stat => stat.mes);\n            const seguidoresData = seguidoresMensuales.map(stat => stat.seguidores);\n            return <DataView data={seguidoresData} labels={months} title=\"Seguidores\" />;\n        }\n        return null;\n    };\n\n    return (\n        <>\n             \n             <Menu perfil={perfil} />\n            <div className=\"container\">\n                <h2>Estadísticas</h2>\n                <div className={styles.buttonGroup}>\n                <button type=\"button\" className={`btn btn-primary ${styles.buttonPrimary}`} onClick={() => navigate('/stats/publicacionesLikes')}>\n                        Publicaciones/Likes\n                    </button>\n                    <button type=\"button\" className={`btn btn-secondary ${styles.buttonSecondary}`} onClick={() => navigate('/stats/interaccionesSemanales')}>\n                        Interacciones Semanales\n                    </button>\n                    <button type=\"button\" className={`btn btn-success ${styles.buttonSuccess}`} onClick={() => navigate('/stats/seguidoresMensuales')}>\n                        Seguidores Mensuales\n                    </button>\n                </div>\n                <div className={styles.chartContainer}>\n                    {renderDataView()}\n                </div>\n            </div>\n             \n        </>\n    );\n}\n\nexport default Stats;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}