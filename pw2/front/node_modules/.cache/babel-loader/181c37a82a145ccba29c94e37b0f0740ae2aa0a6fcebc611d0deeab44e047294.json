{"ast":null,"code":"var _jsxFileName = \"D:\\\\Clases\\\\Programacion Web II\\\\PW2_Project\\\\pw2\\\\front\\\\src\\\\perfil.js\",\n  _s = $RefreshSig$();\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport Swal from 'sweetalert2';\nimport styles from './paginaWeb/css/perfil.module.css';\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axiosInstance from './AxiosConf/axiosconf';\n\n//Componentes\nimport Menu from './components/menuComponent';\nimport { usePerfil } from './components/publicacionUtils';\nimport UserInfo from './components/UserInfo';\nimport UserPosts from './components/UserPosts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Perfil = () => {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const perfilMenu = usePerfil();\n  const [perfil, setPerfil] = useState({\n    ID: '',\n    nombre: '',\n    nickname: '',\n    email: '',\n    descripcion: '',\n    foto: ''\n  });\n  const [userPosts, setUserPosts] = useState([]);\n  useEffect(() => {\n    axiosInstance.get(`/perfil/${userId}`).then(response => {\n      setPerfil(response.data);\n    }).catch(error => {\n      console.error('Error al obtener la información del perfil:', error);\n    });\n    axiosInstance.get(`/userPosts/${userId}`).then(response => {\n      setUserPosts(response.data);\n    }).catch(error => {\n      console.error('Error al obtener las publicaciones del usuario:', error);\n    });\n  }, [userId]);\n  const mostrarVentanaConfirmacion = postId => {\n    Swal.fire({\n      title: '¿Estás seguro?',\n      text: 'Se borrará la información de forma permanente.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#E4AF9E',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Sí, borrar',\n      cancelButtonText: 'Cancelar'\n    }).then(result => {\n      if (result.isConfirmed) {\n        axiosInstance.delete(`/deletePost/${postId}`).then(response => {\n          Swal.fire({\n            title: 'Tu post se borró con éxito',\n            text: '<3',\n            icon: 'success',\n            confirmButtonText: 'Yeiiiiii :DD',\n            confirmButtonColor: '#E4AF9E'\n          }).then(result => {\n            if (result.isConfirmed) {\n              setUserPosts(userPosts.filter(post => post.id !== postId));\n            }\n          });\n        }).catch(error => {\n          console.error('Error al borrar la publicación:', error);\n          Swal.fire({\n            title: 'Error',\n            text: 'Hubo un problema al borrar la publicación.',\n            icon: 'error',\n            confirmButtonText: 'OK',\n            confirmButtonColor: '#E4AF9E'\n          });\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Menu, {\n      perfil: perfilMenu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.row} row`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(UserInfo, {\n            profile: perfil,\n            loggedInUserId: perfilMenu.ID\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: styles.pfinfo,\n          className: \"col-md-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: styles.pfn,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"@\", perfil.nickname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(UserPosts, {\n            posts: userPosts,\n            onDelete: mostrarVentanaConfirmacion,\n            loggedInUserId: perfilMenu.ID\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Perfil, \"nIAZGOeBJCEjYlqB/2eXuBJw2C0=\", false, function () {\n  return [useParams, usePerfil];\n});\n_c = Perfil;\nexport default Perfil;\nvar _c;\n$RefreshReg$(_c, \"Perfil\");","map":{"version":3,"names":["Swal","styles","React","useState","useEffect","useParams","axiosInstance","Menu","usePerfil","UserInfo","UserPosts","jsxDEV","_jsxDEV","Fragment","_Fragment","Perfil","_s","userId","perfilMenu","perfil","setPerfil","ID","nombre","nickname","email","descripcion","foto","userPosts","setUserPosts","get","then","response","data","catch","error","console","mostrarVentanaConfirmacion","postId","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","filter","post","id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","row","profile","loggedInUserId","pfinfo","pfn","posts","onDelete","_c","$RefreshReg$"],"sources":["D:/Clases/Programacion Web II/PW2_Project/pw2/front/src/perfil.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport Swal from 'sweetalert2';\nimport styles from './paginaWeb/css/perfil.module.css';\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axiosInstance from './AxiosConf/axiosconf';\n\n//Componentes\nimport Menu from './components/menuComponent';\nimport { usePerfil } from './components/publicacionUtils';\nimport UserInfo from './components/UserInfo';\nimport UserPosts from './components/UserPosts';\n\nconst Perfil = () => {\n    const { userId } = useParams();\n    const perfilMenu = usePerfil();\n    const [perfil, setPerfil] = useState({\n        ID: '',\n        nombre: '',\n        nickname: '',\n        email: '',\n        descripcion: '',\n        foto: ''\n    });\n    const [userPosts, setUserPosts] = useState([]);\n\n    useEffect(() => {\n        axiosInstance.get(`/perfil/${userId}`)\n            .then(response => {\n                setPerfil(response.data);\n            })\n            .catch(error => {\n                console.error('Error al obtener la información del perfil:', error);\n            });\n\n        axiosInstance.get(`/userPosts/${userId}`)\n            .then(response => {\n                setUserPosts(response.data);\n            })\n            .catch(error => {\n                console.error('Error al obtener las publicaciones del usuario:', error);\n            });\n    }, [userId]);\n\n    const mostrarVentanaConfirmacion = (postId) => {\n        Swal.fire({\n            title: '¿Estás seguro?',\n            text: 'Se borrará la información de forma permanente.',\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#E4AF9E',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Sí, borrar',\n            cancelButtonText: 'Cancelar'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                axiosInstance.delete(`/deletePost/${postId}`)\n                    .then(response => {\n                        Swal.fire({\n                            title: 'Tu post se borró con éxito',\n                            text: '<3',\n                            icon: 'success',\n                            confirmButtonText: 'Yeiiiiii :DD',\n                            confirmButtonColor: '#E4AF9E'\n                        }).then((result) => {\n                            if (result.isConfirmed) {\n                                setUserPosts(userPosts.filter(post => post.id !== postId));\n                            }\n                        });\n                    })\n                    .catch(error => {\n                        console.error('Error al borrar la publicación:', error);\n                        Swal.fire({\n                            title: 'Error',\n                            text: 'Hubo un problema al borrar la publicación.',\n                            icon: 'error',\n                            confirmButtonText: 'OK',\n                            confirmButtonColor: '#E4AF9E'\n                        });\n                    });\n            }\n        });\n    };\n\n    return (\n        <>\n            <Menu perfil={perfilMenu} />\n\n            <div className=\"container\">\n                <div className={`${styles.row} row`}>\n                    <div className=\"col-md-3\">\n                        {/* {console.log(perfil, perfilMenu.ID)} */}\n                        <UserInfo profile={perfil} loggedInUserId={perfilMenu.ID} />\n                    </div>\n\n                    <div id={styles.pfinfo} className=\"col-md-8\">\n                        <div id={styles.pfn}>\n                            <h3>@{perfil.nickname}</h3>\n                        </div>\n                        {/* {console.log(userPosts[0].id_post)} */}\n                        <UserPosts posts={userPosts} onDelete={mostrarVentanaConfirmacion} loggedInUserId={perfilMenu.ID} />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Perfil;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}