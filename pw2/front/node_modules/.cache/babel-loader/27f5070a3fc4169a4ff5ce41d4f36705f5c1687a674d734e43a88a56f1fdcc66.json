{"ast":null,"code":"import'bootstrap/dist/css/bootstrap.css';import'bootstrap/dist/js/bootstrap.bundle.js';import styles from'./paginaWeb/css/PostVentana.module.css';import React from'react';import{Link,useParams}from'react-router-dom';import{usePerfil,usePublicacion,useFollow,useLikes,useComment}from'./components/publicacionUtils';//Componentes\nimport Menu from'./components/menuComponent';import Comentarios from'./components/Comentarios';import Recomendaciones from'./components/Recomendaciones';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Publicacion(){const{id_post}=useParams();const perfil=usePerfil();const[publicacion,setPublicacion]=usePublicacion(id_post);const{followed,handleFollowButtonClick}=useFollow(publicacion.id_autor);const{likes,liked,handleLikeButtonClick}=useLikes(id_post);const{commentText,setCommentText,commentError,handleFormSubmit}=useComment();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{perfil:perfil}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:`${styles[\"row\"]} row`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"div\",{id:styles.carouselExample,className:\"carousel slide\",children:/*#__PURE__*/_jsx(\"div\",{className:`${styles[\"carousel-inner\"]} carousel-inner`,children:/*#__PURE__*/_jsx(\"div\",{className:`${styles[\"carousel-item\"]} carousel-item active`,children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:publicacion.imageUrl,alt:\"Primera imagen\"})})})}),/*#__PURE__*/_jsxs(\"div\",{id:styles.autorInfo,children:[/*#__PURE__*/_jsx(Link,{to:`/perfil/${publicacion.id_autor}`,children:/*#__PURE__*/_jsx(\"img\",{src:publicacion.autorPfp,alt:\"PFP\"})}),/*#__PURE__*/_jsx(\"div\",{id:styles.addInfo,children:/*#__PURE__*/_jsx(\"p\",{className:\"autorInfo\",id:publicacion.id_autor,children:publicacion.autorNombre})}),/*#__PURE__*/_jsx(\"button\",{id:styles.followButton,className:\"btn btn-primary\",onClick:handleFollowButtonClick,children:/*#__PURE__*/_jsx(\"span\",{id:styles.followIcon,className:\"ml-2\",children:followed?'✓':'×'})})]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-coment\",children:/*#__PURE__*/_jsxs(\"form\",{id:styles.commentForm,onSubmit:e=>handleFormSubmit(e,id_post),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"commentText\",children:\"Agregar comentario:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"commentText\",rows:\"3\",value:commentText,onChange:e=>setCommentText(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{id:styles.commentError,className:\"error-text\",style:{display:commentError?'inline':'none'},children:commentError})]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-enviar\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Enviar comentario\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-1\",children:[/*#__PURE__*/_jsxs(\"div\",{id:styles.likesContainer,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-like\",onClick:handleLikeButtonClick,children:/*#__PURE__*/_jsx(\"i\",{className:`bi ${liked?'bi-heart-fill':'bi-heart'}`})}),/*#__PURE__*/_jsx(\"p\",{id:styles.contadorL,children:likes})]}),/*#__PURE__*/_jsx(\"div\",{id:styles.comI,children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-comments\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chat\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{id:styles.postInfo,className:\"col-md-3\",children:[/*#__PURE__*/_jsx(\"h2\",{id:styles.titleP,children:publicacion.titulo_post}),/*#__PURE__*/_jsx(\"p\",{id:styles.descP,children:publicacion.desc_post}),/*#__PURE__*/_jsx(Comentarios,{comentarios:publicacion.comentarios}),/*#__PURE__*/_jsx(\"div\",{id:styles.catP,children:publicacion.categorias&&publicacion.categorias.map((cat,index)=>/*#__PURE__*/_jsx(\"p\",{children:cat},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(Recomendaciones,{recomendaciones:publicacion.recomendaciones}),/*#__PURE__*/_jsx(\"div\",{id:styles.recentContainer,children:/*#__PURE__*/_jsxs(\"div\",{id:styles.recents,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recientes\"}),publicacion.recientes&&publicacion.recientes.map((rec,index)=>/*#__PURE__*/_jsx(\"div\",{id:styles.rectP,children:/*#__PURE__*/_jsx(Link,{to:`/publicacion/${rec.id}`,children:/*#__PURE__*/_jsx(\"img\",{src:rec.imageUrl,alt:\"posts\"})})},index))]})})]})]})})]});}export default Publicacion;","map":{"version":3,"names":["styles","React","Link","useParams","usePerfil","usePublicacion","useFollow","useLikes","useComment","Menu","Comentarios","Recomendaciones","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Publicacion","id_post","perfil","publicacion","setPublicacion","followed","handleFollowButtonClick","id_autor","likes","liked","handleLikeButtonClick","commentText","setCommentText","commentError","handleFormSubmit","children","className","id","carouselExample","src","imageUrl","alt","autorInfo","to","autorPfp","addInfo","autorNombre","followButton","onClick","followIcon","commentForm","onSubmit","e","htmlFor","rows","value","onChange","target","style","display","type","likesContainer","contadorL","comI","postInfo","titleP","titulo_post","descP","desc_post","comentarios","catP","categorias","map","cat","index","recomendaciones","recentContainer","recents","recientes","rec","rectP"],"sources":["D:/Clases/Programacion Web II/PW2_Project/pw2/front/src/publicacion.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\r\nimport styles from './paginaWeb/css/PostVentana.module.css';\r\nimport React from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { usePerfil, usePublicacion, useFollow, useLikes, useComment } from './components/publicacionUtils';\r\n\r\n//Componentes\r\nimport Menu from './components/menuComponent';\r\nimport Comentarios from './components/Comentarios';\r\nimport Recomendaciones from './components/Recomendaciones';\r\n\r\nfunction Publicacion() {\r\n    const { id_post } = useParams();\r\n    const perfil = usePerfil();\r\n    const [publicacion, setPublicacion] = usePublicacion(id_post);\r\n    const { followed, handleFollowButtonClick } = useFollow(publicacion.id_autor);\r\n    const { likes, liked, handleLikeButtonClick } = useLikes(id_post);\r\n    const { commentText, setCommentText, commentError, handleFormSubmit } = useComment();\r\n\r\n    return (\r\n        <>\r\n            <Menu perfil={perfil} />\r\n\r\n            <div className=\"container\">\r\n                <div className={`${styles[\"row\"]} row`}>\r\n                    <div className=\"col-md-4\">\r\n                        <div id={styles.carouselExample} className=\"carousel slide\">\r\n                            <div className={`${styles[\"carousel-inner\"]} carousel-inner`}>\r\n                                <div className={`${styles[\"carousel-item\"]} carousel-item active`}>\r\n                                    <img className=\"d-block w-100\" src={publicacion.imageUrl} alt=\"Primera imagen\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id={styles.autorInfo}>\r\n                            <Link to={`/perfil/${publicacion.id_autor}`}>\r\n                                <img src={publicacion.autorPfp} alt=\"PFP\" />\r\n                            </Link>\r\n\r\n                            <div id={styles.addInfo}>\r\n                                <p className=\"autorInfo\" id={publicacion.id_autor}>{publicacion.autorNombre}</p>\r\n                                {/* <p id=\"autor\">{publicacion.autorNombre}</p> */}\r\n                                {/* <p id=\"dateP\">{publicacion.fecha_post}</p> */}\r\n                            </div>\r\n\r\n                            <button id={styles.followButton} className=\"btn btn-primary\" onClick={handleFollowButtonClick}>\r\n                                <span id={styles.followIcon} className=\"ml-2\">{followed ? '✓' : '×'}</span>\r\n                            </button>\r\n                        </div>\r\n                        <p></p>\r\n                        <p></p>\r\n                       <div className='container-coment'>\r\n                        <form id={styles.commentForm} onSubmit={(e) => handleFormSubmit(e, id_post)}>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"commentText\">Agregar comentario:</label>\r\n                                <textarea className=\"form-control\" id=\"commentText\" rows=\"3\" value={commentText} onChange={(e) => setCommentText(e.target.value)}></textarea>\r\n                                <span id={styles.commentError} className=\"error-text\" style={{ display: commentError ? 'inline' : 'none' }}>{commentError}</span>\r\n                            </div>\r\n                            <p></p>\r\n                            <div className='btn-enviar'>\r\n                             <button type=\"submit\" className=\"btn btn-primary\">Enviar comentario</button>\r\n                            </div>\r\n                        </form>\r\n                       </div>\r\n                        \r\n                    </div>\r\n\r\n                    <div className=\"col-md-1\">\r\n                        <div id={styles.likesContainer}>\r\n                            <button type=\"button\" className=\"btn btn-like\" onClick={handleLikeButtonClick}>\r\n                                <i className={`bi ${liked ? 'bi-heart-fill' : 'bi-heart'}`}></i>\r\n                            </button>\r\n                            <p id={styles.contadorL}>{likes}</p>\r\n                        </div>\r\n\r\n                        <div id={styles.comI}>\r\n                            <button type=\"button\" className=\"btn btn-comments\">\r\n                                <i className=\"bi bi-chat\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div id={styles.postInfo} className=\"col-md-3\">\r\n                        <h2 id={styles.titleP}>{publicacion.titulo_post}</h2>\r\n                        <p id={styles.descP}>{publicacion.desc_post}</p>\r\n\r\n                        <Comentarios comentarios={publicacion.comentarios} />\r\n\r\n                        \r\n\r\n                        <div id={styles.catP}>\r\n                            {publicacion.categorias && publicacion.categorias.map((cat, index) => (\r\n                                <p key={index}>{cat}</p>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <Recomendaciones recomendaciones={publicacion.recomendaciones} />\r\n\r\n                        <div id={styles.recentContainer}>\r\n                            <div id={styles.recents}>\r\n                                <h2>Recientes</h2>\r\n                                {publicacion.recientes && publicacion.recientes.map((rec, index) => (\r\n                                    <div key={index} id={styles.rectP}>\r\n                                        <Link to={`/publicacion/${rec.id}`}>\r\n                                            <img src={rec.imageUrl} alt=\"posts\" />\r\n                                        </Link>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Publicacion;\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}