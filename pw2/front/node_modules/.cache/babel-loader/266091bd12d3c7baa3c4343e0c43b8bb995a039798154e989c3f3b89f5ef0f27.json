{"ast":null,"code":"import'bootstrap/dist/css/bootstrap.css';import style from'./paginaWeb/css/login.module.css';import Swal from'sweetalert2';import{Link,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import axiosInstance from'./AxiosConf/axiosconf';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const InicioSesion=()=>{const nav=useNavigate();//Si ya existe un usuario con sesión\nuseEffect(()=>{const verificarSesion=async()=>{try{const response=await axiosInstance.get('/perfilMenu');if(response.status===200){nav('/Dashboard');}}catch(error){//console.error('No hay sesión activa:', error);\n}};verificarSesion();},[nav]);const[user,setUser]=useState('');const[pass,setPass]=useState('');const handleSubmit=async e=>{e.preventDefault();try{const response=await axiosInstance.post('/login',{us:user,con:pass});if(response.data.alert===\"Success\"){Swal.fire('Bienvenido a WEBART '+user+'!','Iniciaste sesión correctamente','success').then(result=>{if(result.isConfirmed){nav(\"/Dashboard\");}});}else{Swal.fire('Usuario no encontrado o contraseña incorrecta','error','error');}}catch(error){console.error(error);Swal.fire('No pudimos conectarnos al servidor','error','error');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:style[\"login-container\"],children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white\",align:\"center\",children:\"Login!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:user,onChange:e=>setUser(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:pass,onChange:e=>setPass(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/registro\",children:\"Sign Up\"})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:`\n                body {\n                    margin: 0;\n                    background-color: #080808;\n                    background-image: url('/resources/Illustrations/Login.png');\n                    background-position: center;\n                    background-repeat: no-repeat;\n                    background-size: cover;\n                }\n                \n                body::before {\n                    content: \"\";\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    z-index: -1;\n                    background-color: #080808;\n                    background-image: url('/resources/Illustrations/Login.png');\n                    background-position: center;\n                    background-repeat: no-repeat;\n                    background-size: cover;\n                }\n            `})]});};export default InicioSesion;","map":{"version":3,"names":["style","Swal","Link","useNavigate","useState","useEffect","axiosInstance","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InicioSesion","nav","verificarSesion","response","get","status","error","user","setUser","pass","setPass","handleSubmit","e","preventDefault","post","us","con","data","alert","fire","then","result","isConfirmed","console","children","className","align","onSubmit","type","placeholder","value","onChange","target","required","to"],"sources":["D:/Clases/Programacion Web II/PW2_Project/pw2/front/src/is.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.css';\nimport style from './paginaWeb/css/login.module.css';\nimport Swal from 'sweetalert2';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport axiosInstance from './AxiosConf/axiosconf';\n\nconst InicioSesion = () => {\n    const nav = useNavigate();\n    //Si ya existe un usuario con sesión\n    useEffect(() => {\n        const verificarSesion = async () => {\n            try {\n                const response = await axiosInstance.get('/perfilMenu');\n                if (response.status === 200) {\n                    nav('/Dashboard');\n                }\n            } catch (error) {\n                //console.error('No hay sesión activa:', error);\n            }\n        };\n\n        verificarSesion();\n    }, [nav]);\n\n    const [user, setUser] = useState('');\n    const [pass, setPass] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            const response = await axiosInstance.post('/login', {\n                us: user,\n                con: pass\n            });\n\n            if (response.data.alert === \"Success\") {\n                Swal.fire(\n                    'Bienvenido a WEBART ' + user + '!',\n                    'Iniciaste sesión correctamente',\n                    'success'\n                ).then((result) => {\n                    if (result.isConfirmed) {\n                        nav(\"/Dashboard\");\n                    }\n                });\n            } else {\n                Swal.fire('Usuario no encontrado o contraseña incorrecta', 'error', 'error');\n            }\n        } catch (error) {\n            console.error(error);\n            Swal.fire('No pudimos conectarnos al servidor', 'error', 'error');\n        }\n    };\n\n    return (\n        <>\n            <div className={style[\"login-container\"]}>\n                <h3 className=\"text-white\" align=\"center\">Login!</h3>\n                <form onSubmit={handleSubmit}>\n                    <input type=\"text\" placeholder=\"Username\" value={user} onChange={(e) => setUser(e.target.value)} required />\n                    <input type=\"password\" placeholder=\"Password\" value={pass} onChange={(e) => setPass(e.target.value)} required />\n                    <button type=\"submit\">Sign In</button>\n                    <p className=\"text-white\">Don't have an account?\n                        <Link to=\"/registro\">Sign Up</Link>\n                    </p>\n                </form>\n            </div>\n\n            <style>{`\n                body {\n                    margin: 0;\n                    background-color: #080808;\n                    background-image: url('/resources/Illustrations/Login.png');\n                    background-position: center;\n                    background-repeat: no-repeat;\n                    background-size: cover;\n                }\n                \n                body::before {\n                    content: \"\";\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    width: 100%;\n                    height: 100%;\n                    z-index: -1;\n                    background-color: #080808;\n                    background-image: url('/resources/Illustrations/Login.png');\n                    background-position: center;\n                    background-repeat: no-repeat;\n                    background-size: cover;\n                }\n            `}</style>\n        </>\n    );\n};\n\nexport default InicioSesion;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}